.\" Time-stamp: <96/10/10 17:14:05 ferguson>
.TH TPARSER 1 "9 Oct 1996" "TRAINS Project"
.SH NAME
tparser \- TRAINS Parser module
.SH SYNOPSIS
tparser [lisp args]
.SH DESCRIPTION
.PP
.I Tparser
is a dumped Allegro Common Lisp image that implements the TRAINS
Parser module, a robust, bottom-up chart parser. It reads KQML messages
(describing input words) from standard input and writes KQML messages
(describing utterance interpretations) to standard output.
.SH OPTIONS
.PP
You can pass any arguments suitable for dumped Lisp images. I don't
know why you would want to, however.
.SH USAGE
.PP
.I Tparser
asks the Input Manager to LISTEN to the USER-INPUT class of modules.
This class includes the speech recognition modules SPEECH-IN and
SPEECH-PP, the Keyboard Manager KEYBOARD, and the DISPLAY. As these
modules broadcast the user's spoken, typed, or graphical input, the
parser constructs a representation of the meaning of the utterance.
When the utterance is complete, it broadcasts a TELL message whose
content is the interpretation.
.PP
Currently, although the Parser listens to both SPEECH-IN and SPEECH-PP
messages, it only uses one of them. Its policy is to use all of
SPEECH-PP's output if that module output anything this utterance,
otherwise use SPEECH-IN's. This can cause problems if, for example,
SPEECH-IN completely finishes processing before SPEECH-PP even outputs
START.
.SH "PARSER MESSAGES"
.PP
The following KQML messages are understood by the Parser. They
should be addressed with ":receiver PARSER". Case is insignificant outside
of strings. Whitespace between messages is ignored (but rigorously
enforced within messages according to the KQML spec).
.IP "(tell :content (start :uttnum N))"
Causes the parser to start processing a new utterance.
.IP "(tell :content (word W :uttnum N :index I :frame F :score S))"
Adds a word to the current utterance. The format is more fully
described in the manpages for
.IR tspeech (1),
.IR tspeechpp (1),
and
.IR tkeyboard (1).
.IP "(tell :content (backto :uttnum N :index I))"
Invalidates words at index positions
.I I
and higher (inclusive).
.IP "(tell :content (end :uttnum N))"
Causes the parser to stop processing the utterance and output its
interpretation.
.IP "(tell :content (mouse :select obj1 obj2 ...))"
Sent by DISPLAY when the user clicks on an object.
.IP "(tell :content (mouse :drag obj :from obj :to obj1 obj2 ...))"
Sent by DISPLAY when the user drags an object.
.IP "(tell :content (confirm TAG t|nil))"
Sent by DISPLAY when the user answers a dialog box confirmer.
.IP "(request :content (restart))"
Clears any internal state in the parser.
.IP "(request :content (parse-tree))"
Causes the Parser to reply with a message containing the latest parse
tree. This is used by the Parse Tree Viewer,
.IR tpview (1).
.IP "(request :content (exit :status N))"
Requests that the Parser exit with status
.I N
(default 0).
.IP "(request :content (chdir DIR))"
Causes the Parser to close its "parser.log" file and reopen it in the
given
.IR DIR .
.IP "(request :content (start\-conversation :name N :lang L :sex S))"
Logged but otherwise ignored.
.IP "(request :content (end\-conversation)"
Logged but otherwise ignored.
.PP
The following message is generated by
.I tspeech
as a selective broadcast at the end of each utterance:
.IP "(tell :content (SPEECH-ACT PARMS))"
.I PARMS
include: :objects, :paths, :semantics, :noise, :social-context,
:relaibility, :mode, :syntax, :setting, and :input. A more complete
description of the Parser output can be found in its online
documentation and various technical reports.
.SH ENVIRONMENT
.PP
The dumped Allegro CL image depends on a shared library for execution.
You can specify the location of this library using the environment
variable ALLEGRO_CL_HOME if it is not in the same place as when the
image was dumped.
.SH FILES
.PP
parser.log		Parser log
.SH DIAGNOSTICS
.PP
Complains about unknown words.
.SH SEE ALSO
.PP
trains(1)
.SH BUGS
.PP
Doesn't seem to crash too often anymore.
.SH AUTHOR
.PP
James Allen (james@cs.rochester.edu).
