<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
<head>
<title>Quintus Prolog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Quintus Prolog">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>

<h4 class="subsection">Loading a Module</h4>

   <p>To gain access to the public predicates of a module-file, load it as you
would any other file--using <code>compile/1</code>, or <code>ensure_loaded/1</code> as
appropriate.  For example, if your code contains a directive such as
<pre class="example">     :- ensure_loaded(<var>File</var>).
     </pre>

   <p>this directive will load the appropriate file <var>File</var> whether or not
<var>File</var> is a module-file.  The only difference is that if <var>File</var> is a
module-file any private predicates that it defines will not
be visible to your program.

   <p>The load predicates are adequate for use at Prolog's top level, or
when the file being loaded is a utility such as a library file.  When
you are writing modules of your own; <code>use_module/[1,2,3]</code> is the
most useful.

   <p>The following predicates are used to load modules:

     <dl>

     <br><dt><code>use_module(</code><var>F</var><code>)</code>
     <dd>import the module-file(s) <var>F</var>, loading them if necessary; same as <code>ensure_loaded(</code><var>F</var><code>)</code> if all files in <var>F</var> are module-files

     <br><dt><code>use_module(</code><var>F</var><code>,</code><var>I</var><code>)</code>
     <dd>import the procedure(s) <var>I</var> from the module-file <var>F</var>, loading
module-file <var>F</var> if necessary

     <br><dt><code>use_module(</code><var>M</var><code>,</code><var>F</var><code>,</code><var>I</var><code>)</code>
     <dd>import <var>I</var> from module <var>M</var>, loading
module-file <var>F</var> if necessary

   </dl>

   <p>Before a module-file is loaded, the associated module is
<dfn>reinitialized</dfn>: any predicates previously imported into that module
are forgotten by the module.

   <p>If a module of the same name with a different <var>PublicPredList</var> or
different meta-predicate list has previously been loaded from a
different module-file, a warning is printed and you are given the
option of abandoning the load.  Only one of these two modules can
exist in the system at one time.

   <p>Normally, a module-file can be reloaded after editing with no need to
reload any other modules.  However, when a module-file is reloaded
after its <var>PublicPredList</var> or its meta-predicate declaration (see
<a href="ref-mod-met.html#ref-mod-met">ref-mod-met</a>) has been changed, any modules that import
predicates from it may have become inconsistent.  This is because a
module is associated with a predicate at compile time, rather than run
time.  Thus, other modules may refer to predicates in a module-file
that are no longer public or whose module name expansion requirements
have changed.  In the case of module-importation (where all, rather
than specific, public predicates of a module are imported), it is
possible that some predicates in the importing module should now refer
to a newly-public predicate but do not.  Whenever the possibility of
such inconsistency arises, you will be warned at the end of the load
that certain modules need to be reloaded.  This warning will be
repeated at the end of each subsequent load until those modules have
been reloaded.

   <p>Modules may be saved to a QOF file by calling <code>save_modules(</code><var>Modules</var><code>,</code><var>File</var><code>)</code>
(see <a href="ref-sls.html#ref-sls">ref-sls</a>).

<div class="logo">
<a href="http://www.sics.se/quintus/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
<li><a rel="next" accesskey="n" href="ref-mod-vis.html#ref-mod-vis">Next</a>
<li><a rel="previous" accesskey="p" href="ref-mod-n2m.html#ref-mod-n2m">Previous</a>
<li><a rel="up" accesskey="u" href="ref-mod.html#ref-mod">Up</a>
</ul>
</div>
   </body></html>

