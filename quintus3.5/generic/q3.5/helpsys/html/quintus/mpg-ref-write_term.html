<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
<head>
<title>Quintus Prolog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Quintus Prolog">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>

<h4 class="subsection"><code>write_term/[2,3]</code></h4>

<h4 class="subheading">Synopsis</h4>

   <p><code>write_term(</code><var>+Term</var><code>, </code><var>+Options</var><code>)</code>

   <p><code>write_term(</code><var>+Stream</var><code>, </code><var>+Term</var><code>, </code><var>+Options</var><code>)</code>

   <p>Writes <var>Term</var> to the current output stream or to <var>Stream</var>
in a format given by the options.

<h4 class="subheading">Arguments</h4>

     <dl>

     <br><dt><var>Stream</var> <dfn>stream_object</dfn>
     <dd>a valid Prolog stream, which is
open for output

     <br><dt><var>Term</var> <dfn>term</dfn>
     <dd>the term to be written

     <br><dt><var>Options</var> <dfn>list of term</dfn>
     <dd>a list of zero or more of the
following, where <var>Bool</var> must be <code>true</code> or <code>false</code>
(<code>false</code> is the default).

          <dl>

          <br><dt><code>quoted(</code><var>Bool</var><code>)</code>
          <dd>    Should atoms and functors be
quoted as necessary to make them acceptable as input to read?

          <br><dt><code>ignore_ops(</code><var>Bool</var><code>)</code>
          <dd>     Ignore current operator
declarations? If <var>Bool</var> is true, compound terms are always
written in the form: <code></code><var>predicate name</var><code>(</code><var>arg1</var><code>,...,</code><var>argn</var><code>)</code>.

          <br><dt><code>portrayed(</code><var>Bool</var><code>)</code>
          <dd>       Call user:<code>portray/1</code> for each
subterm.  By default the behavior of <code>write_term/[2,3]</code> is controlled by
<var>Options</var>, but you can change its effect by providing clauses for
the predicate <code>portray/1</code>.

          <br><dt><code>character_escapes(</code><var>Bool</var><code>)</code>
          <dd> Use character escapes. 
<var>Bool</var> must be <code>true</code> or <code>false</code> (the default depends on the value of
the <code>character_escapes</code> flag as set by <code>prolog_flag/3</code>). If
<var>Bool</var> is <code>true</code> then <code>write_term/[2,3]</code> tries to write layout
characters (except ASCII 9 and ASCII 32) in the form
<code>\</code><var>lower-case-letter</var><code></code>, if possible; otherwise, <code>write_term/[2,3]</code>
writes the <code>\^</code><var>control-char</var><code></code> form.  If <var>Bool</var> is <code>false</code> then it
writes the actual character, without using an escape sequence.

          <br><dt><code>numbervars(</code><var>Bool</var><code>)</code>
          <dd>     Should terms like <code>'$VAR'(N)</code>
be treated specially?  If <var>Bool</var> is true, <code>write_term/[2,3]</code>
writes <code>A</code> if N=0, <code>B</code> if N=1, <small class="dots">...</small><code>Z</code> if N=25, <code>A1</code> if
N=26, etc.  Terms of this form are generated by <code>numbervars/3</code>.

          <br><dt><code>max_depth(</code><var>N</var><code>)</code>
          <dd>         Depth limit on printing. 
<var>N</var> is any integer; 0 means no limit and approximately 33 million
is the default.

     </dl>

   </dl>

<h4 class="subheading">Description</h4>

   <p><code>write_term/[2,3]</code> is the most general of the write family of
predicates. <code>write_term/[2,3]</code> subsumes all predicates
in the family,  with the exception of <code>portray_clause/1</code>. That is,
all write predicates can be written as calls to <code>write_term/[2,3]</code>.

<h4 class="subheading">Exceptions</h4>

     <dl>

     <br><dt><code>domain_error</code>
     <dd>
   <var>Options</var> contains an undefined option.

     <br><dt><code>instantiation_error</code>
     <dd>
    Any of the <var>Options</var> arguments or <var>Stream</var>
is not ground.

     <br><dt><code>type_error</code>
     <dd>
   In <var>Stream</var> or in <var>Options</var>.

     <br><dt><code>existence_error</code>
     <dd>
   <var>Stream</var> is syntactically valid but does not name an open
stream.

     <br><dt><code>permission_error</code>
     <dd>
   <var>Stream</var> names an open stream but the stream is not open
for output.

   </dl>

<h4 class="subheading">Comments</h4>

   <p>If an option is specified more than once the rightmost option takes
precedence. This provides for a convenient way of adding default
values by putting these defaults at the front of the list of options. 
For example, the predicate <code>my_write_term/2</code> defined as
<pre class="example">     my_write_term(Term, Options) :-
        write_term(Term, [quoted(true),
                          numbervars(true)|Options]).
     </pre>

   <p>is equivalent to <code>write_term/2</code> except that two of the defaults are
different.

<h4 class="subheading">Examples</h4>

   <p>How certain options affect the output of <code>write_term/2</code>:
<pre class="example">     | ?- <kbd>write_term('a b', [quoted(true)]).</kbd>
     'a b'
     
     | ?- <kbd>write_term(a+b, [ignore_ops(true)]).</kbd>
     +(a,b)
     
     | ?- <kbd>write_term(f('$VAR'(2)),
                        [numbervars(true)].)</kbd>
     f(C)
     
     | ?- <kbd>write_term(f('$VAR'('C')),
                        [numbervars(true)]).</kbd>
     
     f(C)
     </pre>

   <p>If your intention is to name variables such as that
generated by <code>read_term/2</code> with the variable_names
option then this can be done by defining a predicate
like:
<pre class="example">     var_to_names([]) :- !.
     var_to_names([=(Name,Var)|RestofPairs]) :-
          ( var(Var) -&gt;
               Var = '$VAR'(Name)
          ; true
          ),
          var_to_names(RestofPairs).
     
     | ?- <kbd>read_term([variable_names(Names)], X),
          var_to_names(Names),
          write_term(X, [numbervars(true)]),
          nl,
          fail.</kbd>
     |: <kbd>a(X, Y).</kbd>
     a(X, Y).
     
     no
     </pre>

<h4 class="subheading">See Also</h4>

   <p><code>write/[1,2]</code>,
<code>writeq/[1,2]</code>,
<code>write_canonical/[1,2]</code>,
<code>display/1</code>,
<code>print/1</code>,
<code>portray_clause/1</code>

   <a href="ref-iou-tou-cha.html#ref-iou-tou-cha">ref-iou-tou-cha</a>

<div class="logo">
<a href="http://www.sics.se/quintus/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
<li><a rel="next" accesskey="n" href="mpg-ref-writeq.html#mpg-ref-writeq">Next</a>
<li><a rel="previous" accesskey="p" href="mpg-ref-write_canonical.html#mpg-ref-write_canonical">Previous</a>
<li><a rel="up" accesskey="u" href="mpg-ref.html#mpg-ref">Up</a>
</ul>
</div>
   </body></html>

