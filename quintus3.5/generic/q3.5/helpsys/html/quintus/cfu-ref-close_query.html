<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
<head>
<title>Quintus Prolog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Quintus Prolog">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>

<h4 class="subsection"><code>QP_close_query()</code></h4>

<h4 class="subheading">Synopsis</h4>

<pre class="example">     #include &lt;quintus/quintus.h&gt;
     
     int QP_close_query(qid)
     QP_qid qid;
     </pre>

   <p>Equivalent to the Prolog call:
<pre class="example">     !, fail.
     </pre>

<h4 class="subheading">Description</h4>

   <p>The cut renders the current computation determinate, removing the
possibility of future backtracking.  The following call to <code>fail/0</code>
then initiates backtracking to the first parent goal with
outstanding alternatives.  In doing so it pops the Prolog heap to its
state when the parent goal succeeded, in effect throwing away any
terms created since that parent goal.

   <p>In the context of calling Prolog from foreign languages, terminating a
query using <code>QP_close_query()</code> generally means throwing away the last
solution that was calculated, unless that solution has been copied into
a more permanent place.  (Of course, any previous solutions must also
be assumed to have been overwritten by subsequent solutions unless copied
elsewhere!)  The converse of this behavior is that closing a query using
<code>QP_close_query()</code> automatically frees up the Prolog memory that holds
the last solution.

<h4 class="subheading">Return Values</h4>

     <dl>

     <br><dt><code>QP_SUCCESS</code>
     <dd>Query was closed successfully

     <br><dt><code>QP_ERROR</code>
     <dd>either the query could not be closed or an exception was
signalled from Prolog but not caught
</dl>

<h4 class="subheading">See Also</h4>

   <p><code>QP_cut_query()</code>, <code>QP_open_query()</code>,
<code>QP_query()</code>, <code>QP_next_solution()</code>, <code>QP_pred()</code>,
<code>QP_predicate()</code>, <a href="fli-ffp.html#fli-ffp">fli-ffp</a>

<div class="logo">
<a href="http://www.sics.se/quintus/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
<li><a rel="next" accesskey="n" href="cfu-ref-compare.html#cfu-ref-compare">Next</a>
<li><a rel="previous" accesskey="p" href="cfu-ref-clearerr.html#cfu-ref-clearerr">Previous</a>
<li><a rel="up" accesskey="u" href="cfu-ref.html#cfu-ref">Up</a>
</ul>
</div>
   </body></html>

