<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
<head>
<title>Quintus Prolog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Quintus Prolog">
<meta name="generator" content="makeinfo 4.3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>

<h4 class="subsection">Customized Output</h4>

   <p>The predicate <code>get_profile_results/4</code> returns the profiling information as
a list of terms, to enable the customized display of profiling results. 
The first two arguments of <code>get_profile_results/4</code> are the same as for
<code>show_profile_results/2</code>, the third argument returns a list of <code>proc/6</code> terms
described below and the final argument returns a total that depends on
the display mode given by the first argument -- for example, if the
display mode is <code>by_time</code> then this is the total execution time.

   <p>The <code>proc/6</code> term <code>proc(</code><var>Name</var><code>,</code><var>Ncalls</var><code>,</code><var>Nchpts</var><code>,</code><var>Nredos</var><code>,</code><var>Time</var><code>,</code><var>Callers</var><code>)</code> gives
profiling information about one profiled predicate,
where <var>Name</var> gives the module, name and arity of the predicate;
<var>Ncalls</var>, <var>Nchpts</var>, <var>Nredos</var>, <var>Time</var> give call, choice point and redo counts and
the execution time in milliseconds. The <code>Callers</code> argument is a list
of <code>calledby/5</code> terms of the form <code>calledby(</code><var>Time</var><code>,</code><var>Calls</var><code>,</code><var>Name</var><code>,</code><var>ClauseNo</var><code>,</code><var>CallNo</var><code>)</code>
where <var>Time</var> is the percentage of time attributed to this caller,
<var>Calls</var> is the number of calls made by this caller and
<var>Name</var>, <var>ClauseNo</var>, <var>CallNo</var> identify the actual caller. For example:

<pre class="example">     | ?- <kbd>get_profile_results(by_time,3,List,Total).</kbd>
     
     List = [proc(user:setof/3,227,0,0,1980,
                             [calledby(61,152,user:satisfy/1,6,1),
                              calledby(20,27,user:satisfy/1,7,1),
                              calledby(18,48,user:seto/3,1,1)]),
             proc(user:satisfy/1,35738,36782,14112,260,
                             [calledby(69,13857,user:satisfy/1,1,2),
                              calledby(15,12137,user:satisfy/1,2,1)]),
             proc(user:write/1,2814,0,0,240,
                             [calledby(33,481,user:reply/1,3,1),
                              calledby(25,608,user:replies/1,3,1),
                              calledby(16,562,user:out/1,2,1),
                              calledby(8,203,user:reply/1,2,5),
                              calledby(8,34,user:replies/1,2,3)])],
     Total = 6040
     
     [profile]
     | ?-
     </pre>

<div class="logo">
<a href="http://www.sics.se/quintus/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
<li><a rel="next" accesskey="n" href="dbg-pro-prf.html#dbg-pro-prf">Next</a>
<li><a rel="previous" accesskey="p" href="dbg-pro-upr.html#dbg-pro-upr">Previous</a>
<li><a rel="up" accesskey="u" href="dbg-pro.html#dbg-pro">Up</a>
</ul>
</div>
   </body></html>

